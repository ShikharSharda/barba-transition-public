(()=>{var x=new Lenis;x.on("scroll",ScrollTrigger.update);gsap.ticker.add(e=>{x.raf(e*1e3)});gsap.ticker.lagSmoothing(0);var n=1,y="power4.out",B=window.innerWidth<480,S=window.innerWidth<768,T=window.innerWidth<992,b=window.innerWidth>992,q;function E(e){e||(e=document);let t=e.querySelectorAll("[data-split-words]");q=SplitText.create(t,{type:"words",mask:"words",wordsClass:"word"})}var L=$(window).innerWidth();window.addEventListener("resize",function(){L!==$(window).innerWidth()&&(L=$(window).innerWidth(),q.revert(),E())});var M=["home","about","contact"];function _(e){e||(e=document),e.querySelectorAll("a").forEach(a=>{a.addEventListener("click",r=>{a.getAttribute("href")===window.location.pathname&&r.preventDefault()})})}function W(){document.querySelector(".nav_w").querySelectorAll("a").forEach(a=>{a.addEventListener("click",r=>{a.getAttribute("href")===window.location.pathname&&r.preventDefault()})})}function D(e){e||(e=document),Array.from(e.querySelectorAll("[data-text-scroll-ani]")).forEach(a=>{let r=a.querySelectorAll(".word");gsap.set(r,{yPercent:101}),gsap.to(r,{yPercent:0,duration:.9,ease:"power4.out",stagger:.075,scrollTrigger:{trigger:a,start:"top 80%"}})})}function P(e){e||(e=document);let t=e.querySelector("h1"),a=t.querySelectorAll(".word");gsap.fromTo(a,{yPercent:101,y:0},{yPercent:0,y:0,duration:.9,ease:"power4.out",stagger:.075,scrollTrigger:{trigger:t,start:"top 80%"}})}var w;function C(e){w&&w.revert(),e||(e=document),w=gsap.matchMedia(),w.add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},t=>{let{isMobile:a,isMobileLandscape:r,isTablet:d}=t.conditions;e.querySelectorAll('[data-parallax="trigger"]').forEach(o=>{let i=o.getAttribute("data-parallax-disable");if(i==="mobile"&&a||i==="mobileLandscape"&&r||i==="tablet"&&d)return;let l=o.querySelector('[data-parallax="target"]')||o,p=(o.getAttribute("data-parallax-direction")||"vertical")==="horizontal"?"xPercent":"yPercent",m=o.getAttribute("data-parallax-scrub"),v=m?parseFloat(m):!0,c=o.getAttribute("data-parallax-start"),u=c!==null?parseFloat(c):-20,f=o.getAttribute("data-parallax-end"),A=f!==null?parseFloat(f):20,h=o.getAttribute("data-parallax-scroll-start")||"top bottom",s=o.getAttribute("data-parallax-scroll-end")||"bottom top";gsap.fromTo(l,{[p]:u},{[p]:A,ease:"none",scrollTrigger:{trigger:o,start:h,end:s,scrub:v}})})})}function O(e,t,a){gsap.killTweensOf(".load_box_box"),gsap.killTweensOf(".load_w");let r=document.querySelector(".load_w"),d=document.querySelectorAll(".load_box_box"),o=document.querySelector("#initial");gsap.set(d,{clearProps:"all"}),d.forEach(c=>{c.classList.remove("middle","default"),c===o?c.classList.add("middle"):c.classList.add("default")});let i=document.querySelectorAll(".load_box_box.default"),l=document.querySelector(".load_box_box.middle"),g=document.querySelectorAll(".load_box_overlay"),p=document.querySelector(".overlay");gsap.set(r,{display:"flex",pointerEvents:"auto"}),gsap.set(i,{height:"100svh",width:"100vw"}),gsap.set(l,{height:"100svh",width:"100vw",backgroundColor:"transparent"});function m(){let c=Array.from(d).indexOf(l),u=M.indexOf(t);u===0&&(u=-1),transformDistance=u*(b?13:21);let f=Math.max(0,Math.min(d.length-1,c+u));l.classList.remove("middle"),i.forEach(s=>s.classList.remove("default")),l=d[f],i=Array.from(d).filter(s=>s!==l),l.classList.add("middle"),i.forEach(s=>s.classList.add("default")),gsap.timeline({defaults:{duration:n,ease:y}}).to(d,{x:`${-transformDistance}vw`,duration:.8,stagger:{from:transformDistance<0?"end":"start",each:.03}}).call(h,null,">-0.3");function h(){let s=gsap.timeline({defaults:{duration:n,ease:y},onComplete:()=>{gsap.set(r,{display:"none"})}});return s.to(l,{height:"100svh",width:"100vw"}).to(i,{scale:.6,stagger:{each:.02,from:"center",ease:"none"}},"<").to(p,{opacity:0},"<").to(g,{opacity:0,duration:n/2},"<").to(l,{backgroundColor:"transparent",duration:n},`<+=${n/10}`),s}}gsap.timeline({defaults:{duration:n,ease:y,overwrite:"auto"}}).to(l,{height:S?"6rem":T?"9rem":"12rem",width:b?"12vw":"20vw"}).to(i,{height:S?"6rem":T?"9rem":"12rem",width:b?"12vw":"20vw",stagger:{each:.02,from:"center",ease:"none"}},"<").to(l,{backgroundColor:"var(--bg-3)",duration:n/2},`<+=${n/2}`).to(g,{opacity:1,duration:n/2},"<").call(m,null,">-0.3")}function k(e){C(e),_(e),document.fonts.ready.then(()=>{E(e),D(e),gsap.delayedCall(n/2,()=>{P(e)})})}barba.init({transitions:[{name:"default",leave:e=>{let t=e.current.container,a=e.next.namespace,r=e.next.container;return O(t,a,r),gsap.fromTo(".overlay",{opacity:0},{opacity:1,duration:n})},once(e){let t=e.next.container;k(t),W()},enter(e){return gsap.from(e.next.container,{opacity:0})},beforeEnter(e){x.scrollTo(0,{immediate:!0,force:!0,lock:!0})},afterEnter(e){let t=e.next.container;k(t),setTimeout(()=>{ScrollTrigger.refresh()},200)}},{name:"dummy",to:{namespace:["dummy"]},leave(){}}]});})();
